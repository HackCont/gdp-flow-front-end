<div class="profile-header">
    <app-router-header text="Perfil do usuário"></app-router-header>
</div>

<div class="profile-main">

    <div class="profile-main__container">
        <div class="profile-main__header">
            <div class="profile-main__group-row">
                <img src="assets/perfil.png" alt="Imagem de perfil">

                <div class="profile-main__group">
                    <button class="button">
                        Upload da foto
                    </button>
                    <p>Formatos JPG ou PNG recomendados</p>
                </div>
            </div>
        </div>

        <div class="profile-main__cards">

            <!-- Box Informações pessoais -->
            <div class="box">
                <app-header-card 
                    title="Informações pessoais" 
                    (editEmitter)="isEditingInfos = !isEditingInfos"
                    (salvarEmitter)="handleSalvarInfos()"
                ></app-header-card>

                <form [formGroup]="form">
                    <ul class="profile-main__infos d-flex">
                        @for (info of informationsBlock; track $index) {
    
                            <li class="profile-main__infos-item d-flex flex-column" [ngClass]="{'profile-main__infos-item--edit': isEditingInfos}">
                                <span [ngClass]="isEditingInfos ? 'input-label' : 'profile-main__infos-label'">{{info.label}}</span>
        
                                @if (!isEditingInfos) {
                                    <span class="profile-main__infos-value">{{info.value}}</span>
                                } @else {
                                    <input 
                                        class="input"
                                        type="text"
                                        [formControlName]="info.formControlName"
                                    >
                                }
                            </li>
                        }
                    </ul>
                </form>
            </div>

            <!-- Box Habilidades -->
            <div class="box">
                <app-header-card title="Habilidades"></app-header-card>

                <div class="profile-main__info-content profile-main__info-content--skills">
                    @for (skill of skills; track $index) {
                    <button class="button button--tag">
                        {{skill}}
                    </button>
                    }
                </div>
            </div>

            <!-- Box Habilidades -->
            <div class="box">
                <app-header-card title="Bio"></app-header-card>

                <div class="profile-main__info-content profile-main__info-content--skills">
                    <p class="profile-main__biography">
                        {{bio}}
                    </p>
                </div>
            </div>
        </div>

        <div></div>
    </div>
</div>