<app-auth-template 
    [config]="{
        title: 'Entre no GDP Flow',
        message: 'Entre com seu e-mail e senha para logar.',
        submitBtnText: 'Log in',
        actionText: 'Não tem conta?',
        actionBtnText: 'Cadastre-se!'
    }"
    (submitBtnEmitter)="handleLogin()"
    (actionBtnEmitter)="handleNavigateToSignUpPage()"
>

    <div class="login w-100 gap-2">

        <form class="d-flex flex-column w-100 gap-2" [formGroup]="form">
    
            <div class="input-group">
                <span class="input-label">E-mail</span>
                <input class="input" type="text" placeholder="exemplo@gmail.com" formControlName="email">

                @if (form.controls['email'].touched) {

                    @if (form.controls['email'].hasError('required')) {
                        <p class="input-error-msg">E-mail obrigatório.</p>
                    }
                    @if (form.controls['email'].hasError('email')) {
                        <p class="input-error-msg">E-mail inválido.</p>
                    }
                }
            </div>
    
            <div class="input-group">
                <span class="input-label">Senha</span>
                <input class="input" type="text" placeholder="**********" formControlName="password">

                @if (form.controls['password'].hasError('required') && form.controls['password'].touched) {
                    <p class="input-error-msg">Senha obrigatório.</p>
                }
            </div>
    
        </form>
    </div>
    
    
    <!-- <form class="w-100 d-flex flex-column gap-1" [formGroup]="form">
        <mat-form-field appearance="outline">
            <mat-label>E-mail</mat-label>
            <input matInput type="text" formControlName="email">

            @if (form.controls['email'].hasError('required')) {
                <mat-error>E-mail é obrigatório.</mat-error>
            }

            @if (form.controls['email'].hasError('email')) {
                <mat-error>E-mail não é válido.</mat-error>
            }
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Senha</mat-label>
            <input 
                matInput
                formControlName="password"
                [type]="showPassword ? 'text' : 'password'"
            >

            <mat-icon 
                matIconSuffix
                [fontIcon]="showPassword ? 'visibility_off' : 'visibility'"
                fontIcon="home"
                (click)="handleVisibilityPassword()"
            ></mat-icon>

            <mat-error>Senha é obrigatória.</mat-error>
        </mat-form-field>
    </form>

    <div class="login-form__actions d-flex flex-column gap-1">
        <button class="login__submit-btn" (click)="handleSubmitForm()">ENTRAR</button>
        <button class="login__register-btn d-flex justfiy-start" (click)="navigateToSignUpPage()">Cadastre-se</button>
    </div> -->

</app-auth-template>